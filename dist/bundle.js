(()=>{"use strict";const t=function(){function t(t){var i=this;this.game=t,this.height=64,this.width=64,this.position={x:30,y:this.game.height-this.height-20},this.facingDirection="left",this.imageLoadedLeft=!1,this.imageLoadedRight=!1,this.playerImageLeft=new Image,this.playerImageLeft.src="../assets/img/player.png",this.playerImageLeft.onload=function(){i.imageLoadedLeft=!0},this.playerImageRight=new Image,this.playerImageRight.src="../assets/img/player_right.png",this.playerImageRight.onload=function(){i.imageLoadedRight=!0},this.speed=0,this.verticalSpeed=0,this.moveRate=5,this.jumpRate=10}return t.prototype.draw=function(){this.imageLoadedLeft&&"left"===this.facingDirection&&this.game.ctx.drawImage(this.playerImageLeft,this.position.x,this.position.y,this.width,this.height),this.imageLoadedRight&&"right"===this.facingDirection&&this.game.ctx.drawImage(this.playerImageRight,this.position.x,this.position.y,this.width,this.height)},t.prototype.update=function(t){this.position.x+=this.speed,this.position.y+=this.verticalSpeed,this.position.x<=0&&(this.position.x=0),this.position.x+this.width>=this.game.width&&(this.position.x=this.game.width-this.width)},t.prototype.moveRight=function(){this.speed=this.moveRate,this.facingDirection="right"},t.prototype.moveLeft=function(){this.speed=-this.moveRate,this.facingDirection="left"},t.prototype.stopMovement=function(){this.speed=0},t.prototype.jump=function(){var t=this;this.isJumping||(this.isJumping=!0,this.verticalSpeed=-this.jumpRate,setTimeout((function(){t.verticalSpeed=0,setTimeout((function(){t.verticalSpeed=t.jumpRate,setTimeout((function(){t.verticalSpeed=0,t.isJumping=!1}),250)}),150)}),250))},t}(),i=function(t){var i=this;this.game=t,document.addEventListener("keydown",(function(t){switch(t.keyCode){case 37:i.game.player.moveLeft();break;case 38:i.game.player.jump();break;case 39:i.game.player.moveRight()}})),document.addEventListener("keyup",(function(t){switch(t.keyCode){case 39:case 37:i.game.player.stopMovement()}}))},e=function(){function e(){var e=document.getElementById("game");this.ctx=e.getContext("2d"),this.width=e.clientWidth,this.height=e.clientHeight,this.lastTime=0,this.ctx.clearRect(0,0,e.width,e.height),this.player=new t(this),this.player.draw(),new i(this)}return e.prototype.start=function(){requestAnimationFrame(this.gameLoop.bind(this))},e.prototype.gameLoop=function(t){var i=t-this.lastTime;this.lastTime=t,this.ctx.clearRect(0,0,this.width,this.height),this.player.update(i),this.player.draw(),requestAnimationFrame(this.gameLoop.bind(this))},e}();new function(){this.game=new e,this.game.start()}})();